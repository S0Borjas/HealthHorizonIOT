Script SQL:
/*
Autor: Sebastian Borjas Lizardi, Vicente Ramos, Base de datos Health Horizon
*/
CREATE DATABASE HH_Cloud;
USE HH_Cloud;
CREATE TABLE Ubicacion (
idUbicacion INT AUTO_INCREMENT PRIMARY KEY, nombre VARCHAR(30) NOT NULL
);
CREATE TABLE Usuario(
ID INT AUTO_INCREMENT PRIMARY KEY,
edad VARCHAR(3) NOT NULL,
nombre VARCHAR(30) NOT NULL,
sexo VARCHAR(10) NOT NULL,
idUbicacion INT NOT NULL,
FOREIGN KEY (idUbicacion) REFERENCES Ubicacion(idUbicacion) ON DELETE
CASCADE ON UPDATE CASCADE );
CREATE TABLE Temperatura (
idTemperatura INT AUTO_INCREMENT PRIMARY KEY, idUsuario INT NOT NULL,
fecha VARCHAR(10) NOT NULL,
hora VARCHAR(8) NOT NULL,
valor INT NOT NULL CHECK (valor > 0),
FOREIGN KEY (idUsuario) REFERENCES Usuario(ID)
ON DELETE CASCADE ON UPDATE CASCADE );
CREATE TABLE Oxigenacion (
idOxigenacion INT AUTO_INCREMENT PRIMARY KEY, idUsuario INT NOT NULL,
fecha VARCHAR(10) NOT NULL,
hora VARCHAR(8) NOT NULL,
valor INT NOT NULL CHECK (valor > 0),
FOREIGN KEY (idUsuario) REFERENCES Usuario(ID) ON DELETE CASCADE
ON UPDATE CASCADE );
CREATE TABLE Pulso (
idPulso INT AUTO_INCREMENT PRIMARY KEY, idUsuario INT NOT NULL,
fecha VARCHAR(10) NOT NULL,
hora VARCHAR(8) NOT NULL,
valor INT NOT NULL CHECK (valor > 0),
FOREIGN KEY (idUsuario) REFERENCES Usuario(ID) ON DELETE CASCADE
ON UPDATE CASCADE
);
CREATE TABLE MQ7 (
idMQ7 INT AUTO_INCREMENT PRIMARY KEY,
idUsuario INT NOT NULL,
idUbicacion INT NOT NULL,
fecha VARCHAR(10) NOT NULL,
hora VARCHAR(8) NOT NULL,
valor INT NOT NULL CHECK (valor > 0),
FOREIGN KEY (idUsuario) REFERENCES Usuario(ID)
ON DELETE CASCADE
ON UPDATE CASCADE,
FOREIGN KEY (idUbicacion) REFERENCES Ubicacion(idUbicacion)
ON DELETE CASCADE
ON UPDATE CASCADE );
/* end */